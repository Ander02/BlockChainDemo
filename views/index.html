<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>BlockChain</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- CSS -->
	<link href="/css/lib/bootstrap" rel="stylesheet">
	<link href="/css/lib/toastr" rel="stylesheet">
	<link href="/css/style" rel="stylesheet">
		
</head>

<body ng-app="app">

	<div ng-controller="BlockChain">

		<h1>BlockChain</h1>

		<div>
			<div class="form-control form-row no-margin" ng-show="blocks.length <= 0">
				<div class="from-group col-md-1">
					<label for="genesisBlockDifficulty">Difficulty</label>
					<input class="form-control" id="genesisBlockDifficulty" name="genesisBlockDifficulty" type="number" placeholder="difficulty"
					 min="1" max="10" ng-model="genesis.difficulty" />
				</div>
				<div class="from-group col-md-11">
					<label for="genesisBlockData">Data</label>
					<textarea rows="1" class="form-control" id="genesisBlockData" name="genesisBlockData" type="text" placeholder="Data" ng-model="genesis.data"></textarea>
				</div>
				<button class="btn btn-primary btn-lg btn-block lineButtonForm" ng-click="initBlockChain()">Init</button>
			</div>
		</div>

		<div id="content" class="content" ng-show="blocks.length > 0">
			<button class="btn btn-danger btn-block" ng-click="restartChain()">Reiniciar</button>

			<div class="row">
				<div class="col-sm-3" ng-repeat="item in blocks">
					<div class="card border-dark">
						<div class="card-header">
							<b>Hash</b>
							<i ng-bind="item.hash"></i>
						</div>
						<div class="card-body">
							<div class="list-group list-group-flush">

								<li class="list-group-item">
									<p class="card-text">
										<b>Block Heigth:</b> {{item.blockHeigth}}
									</p>
								</li>
								<li class="list-group-item">
									<p class="card-text">
										<b>TimeStamp:</b> {{item.timestamp}}
									</p>
								</li>
								<li class="list-group-item">
									<p class="card-text">
										<b>Difficulty:</b> {{item.difficulty}}
									</p>
								</li>
								<li class="list-group-item">
									<p class="card-text">
										<b>Data:</b>
										<textarea class="itemData form-control" type="text" ng-model="item.data"></textarea>
									</p>
								</li>
								<li class="list-group-item">
									<p class="card-text">
										<b>Nonce:</b> {{item.nonce | number}}
									</p>
								</li>
							</div>
						</div>
						<div class="card-footer">
							<b>Previous Hash </b>
							<i>{{item.previousHash}}</i>
						</div>
						<div class="card-footer">
							<button class="btn btn-info btn-block" ng-click="editBlock(item.hash, item.data)">Editar</button>
						</div>
					</div>
				</div>
			</div>
		</div>

		<div class="form-control no-margin" ng-show="blocks.length > 0">
			<div class="form-group">
				<label for="newBlockData">Data</label>
				<textarea class="form-control" id="newBlockData" name="newBlockData" type="text" placeholder="Data" ng-model="newBlock.data"></textarea>
			</div>
			<button class="btn btn-primary btn-lg btn-block lineButtonForm" ng-click="addBlock()">Add Block</button>
		</div>
	</div>

	<!-- JS -->
	<script src="/js/lib/angular"></script>
	<script src="/js/lib/toastr"></script>
	<script src="/js/lib/socketIO"></script>
	<script src="/js/app"></script>
	
</body>

</html>